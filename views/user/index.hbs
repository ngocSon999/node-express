<div class="d-flex justify-content-between align-items-center mb-4">
  <h3 class="m-0">User Management</h3>
  <a class="btn btn-primary btn-sm" href="{{ routes 'usercreate' }}">Create new user</a>
</div>

<table class="table table-bordered table-hover align-middle">
  <thead class="table-light">
    <tr>
      <th>#</th>
      <th>Avatar</th>
      <th>Name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Created At</th>
      <th>Roles</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {{#each users}}
      <tr>
        <td>{{@index}}</td>
        <td>
          <img src="{{this.avatar}}" alt="Avatar" class="rounded-circle" style="width: 40px; height: 40px; object-fit: cover;">
        </td>
        <td>{{this.name}}</td>
        <td>{{this.email}}</td>
        <td>{{this.phone}}</td>
        <td>{{moment this.createdAt "DD/MM/YYYY hh:mm A" }}</td>
        <td>
          {{#each this.roles}}
            <span class="badge bg-info me-1">{{this.name}}</span>
          {{/each}}
        </td>
        <td>
            <a href="{{routes 'userDetail' this.id}}" class="btn btn-info btn-sm">Detail</a>
            <a href="{{routes 'userEdit' this.id}}" class="btn btn-sm btn-warning">Edit</a>
            <form action="{{routes 'userDelete' this.id}}" method="GET" style="display:inline;">
                <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure?')">Delete</button>
            </form>
        </td>
      </tr>
    {{else}}
      <tr>
        <td colspan="7" class="text-center">No users found.</td>
      </tr>
    {{/each}}
  </tbody>
</table>
